<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>CommandL.ai</title>
    <style>
      * {
        margin: 0;
        padding: 0;
      }
      html {
        height: 570px;
        width: 360px;
      }
      body {
        display: flex;
        flex-direction: column;
        align-items: center;
        height: 100vh; /* Have it take up full height of viewport */
        background-color: #212121;
      }
      #header-div {
        display: flex;
        align-items: center;
      }
      #header-div #header-text {
        font-size: 20px;
        font-family: monospace, serif;
        margin: 10px;
      }
      #header-div #settings-button {
        background-color: transparent;
        height: 66%;
      }
      #header-div #settings-button #settings-png {
        width: 25px;
        height: auto;
      }
      #chat-div {
        flex: 1;
        width: 90%;
        max-width: 730px;
        height: 40%; 
        overflow-y: auto; 
        scrollbar-color: #2f2f2f #212121;
        border: none;
        margin: 20px auto;
      }
      #chat-div .user-chat {
        margin-left: auto;
        margin: 20px 20px 20px auto;
        padding: 20px 13px;
        background-color: #2f2f2f;
        border-radius: 10px;
        width: fit-content;
        font-family: sans-serif;
        font-size: 16px;
        line-height: 20px;
      }
      #chat-div .ai-chat {
        margin: 20px auto 20px 20px;
        padding: 10px;
        font-family: sans-serif;
        font-size: 16px;
        line-height: 25px;
        white-space: pre-wrap; /* Preserve whitespace/line breaks. API responses are unformatted otherwise. */
      }

      #chat-div .ai-chat .language-title {
        padding: 10px; 
        border-radius: 5px 5px 0 0; 
        color: #888;
        background-color: #2f2f2f;
      }

      #chat-div .ai-chat .code-block {
        background-color: #1f1d1d; 
        color: #d4d4d4; /* Light text color */
        padding: 10px; 
        border-radius: 5px; 
        font-size: 14px; 
        overflow-x: auto; /* Horizontal scrolling for long lines */
      }

      #input-container {
        display: flex;
        justify-content: center;
        width: 90%;
        max-width: 730px;
        margin-bottom: 20px;
        position: relative; /* Reference point for send button */
      }
      #input-container textarea {
        width: 90%;
        background-color: #2f2f2f;
        color: white;
        border-radius: 10px;
        padding: 15px;
        margin-right: 5px;
        font-size: 16px;
        border: none;
        resize: none; /* disable text input area resizing*/
      }
      #input-container #send-button {
        background-color: #2f2f2f;
        position: absolute; /* To do with wrapperã€€(#input-container)'s position:relative;' */
        bottom: 10px;
        right: 10px;
      }
      #input-container #send-png {
        width: 25px;
        height: auto;
      }
      div {
        color: white;
      }

      #settings-div {
        height: 100vh;
        width: 100%;
        padding: 20px;
        display: flex;
        flex-direction: column;
        align-items: center;
      }

      #settings-div #settings-header {
        display: flex; 
        align-items: center;
        justify-content: center;
        top: 0;
      }

      #settings-header #back-button {
        background-color: transparent;
        height: 66%;
      }

      #settings-header #back-button #back-png {
        width: 25px;
        height: auto;
      }

      #settings-header #settings-header-text {
        font-size: 20px;
        font-family: monospace, serif;
        margin: 10px;
      }

      #settings-div #settings-body {
        display: flex;
        flex-direction: column;
        justify-content: space-evenly;
        align-items: center;
        margin: 20px;
        height: 40%;
      }

      #settings-body #width-input-container ~ #height-input-container {
        display: flex;
      }

      #settings-body #apply-resize-button {
        width: 50px;
        height: auto;
      }
    </style>
  </head>
  <body>

    <!-- Main page: -->

    <div id="header-div">
      <div id="header-text">CommandL.ai</div>
      <button id="settings-button"><img id="settings-png" src="settings-icon.png"></button>
    </div>
    <div id="chat-div"></div>
    <div id="input-container">
      <textarea id="input" placeholder="Type your message here..."></textarea>
      <button id="send-button"><img id="send-png" src="send-icon.png"></button>
    </div>

    <!-- Settings page: -->
    <div id="settings-div" style="display: none;">
      <header id="settings-header">
        <button id="back-button"><img id="back-png" src="back-icon.png"></button>
        <div id="settings-header-text">Settings</div>
      </header>
      <div id="settings-body">
        <div id="width-input-container">
          <label>Width:</label>
          <input type="number" id="width-input">
        </div>
        <div id="height-input-container">
          <label>Height:</label>
          <input type="number" id="height-input">
        </div>
        <button id="apply-resize-button">Apply</button>
      </div>
    </div>

      <script defer src="jquery-3.7.1.min.js"></script>
      <script defer src="popup.js"></script>
  </body>
</html>
